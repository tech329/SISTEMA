<!-- Módulo de Reportes -->
<div class="bg-white rounded-lg shadow-md p-6">
  <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6">
    <h2 class="text-2xl font-bold text-slate-800 mb-4 lg:mb-0">Generación de Reportes</h2>
    <button id="generate-report-btn" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
      <i class="fas fa-print mr-2"></i>Generar e Imprimir Reporte
    </button>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Configuración del Reporte -->
    <div class="space-y-4">
      <h3 class="text-lg font-semibold text-slate-700 border-b pb-2">Configuración del Reporte</h3>
      
      <!-- Tipo de Reporte -->
      <div>
        <label for="report-type" class="block text-sm font-medium text-slate-700 mb-2">Tipo de Reporte</label>
        <select id="report-type" class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500">
          <option value="">Seleccione un tipo de reporte...</option>
          <option value="socios">Socios</option>
          <option value="aportes">Aportes</option>
          <option value="creditos">Créditos</option>
          <option value="cobranzas">Cobranzas</option>
        </select>
      </div>

      <!-- Filtros Dinámicos -->
      <div id="report-filters" class="space-y-4 hidden">
        <!-- Filtros para Socios -->
        <div id="socios-filters" class="space-y-4 hidden">
          <div>
            <label for="socios-filter-type" class="block text-sm font-medium text-slate-700 mb-2">Filtrar por</label>
            <select id="socios-filter-type" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="todos">Todos los socios</option>
              <option value="activos">Solo activos</option>
              <option value="inactivos">Solo inactivos</option>
              <option value="fecha_inscripcion">Por fecha de inscripción</option>
            </select>
          </div>
          <div id="socios-date-range" class="grid grid-cols-2 gap-3 hidden">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Desde</label>
              <input type="date" id="socios-fecha-desde" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Hasta</label>
              <input type="date" id="socios-fecha-hasta" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
          </div>
        </div>

        <!-- Filtros para Aportes -->
        <div id="aportes-filters" class="space-y-4 hidden">
          <div>
            <label for="aportes-filter-type" class="block text-sm font-medium text-slate-700 mb-2">Filtrar por</label>
            <select id="aportes-filter-type" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="todos">Todos los aportes</option>
              <option value="fecha">Por fecha</option>
              <option value="socio">Por socio</option>
              <option value="tipo">Por tipo de aporte</option>
            </select>
          </div>
          <div id="aportes-date-range" class="grid grid-cols-2 gap-3 hidden">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Desde</label>
              <input type="date" id="aportes-fecha-desde" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Hasta</label>
              <input type="date" id="aportes-fecha-hasta" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
          </div>
          <div id="aportes-socio-select" class="hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">Seleccionar Socio</label>
            <select id="aportes-socio" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="">Todos los socios</option>
            </select>
          </div>
          <div id="aportes-tipo-select" class="hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">Tipo de Aporte</label>
            <select id="aportes-tipo" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="">Todos los tipos</option>
              <option value="Cuota de Afiliación">Cuota de Afiliación</option>
              <option value="Aporte Mensual">Aporte Mensual</option>
              <option value="Aporte Extraordinario">Aporte Extraordinario</option>
              <option value="Aporte Voluntario">Aporte Voluntario</option>
            </select>
          </div>
        </div>

        <!-- Filtros para Créditos -->
        <div id="creditos-filters" class="space-y-4 hidden">
          <div>
            <label for="creditos-filter-type" class="block text-sm font-medium text-slate-700 mb-2">Filtrar por</label>
            <select id="creditos-filter-type" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="todos">Todos los créditos</option>
              <option value="estado">Por estado</option>
              <option value="fecha_aprobacion">Por fecha de aprobación</option>
              <option value="socio">Por socio</option>
              <option value="monto">Por rango de monto</option>
            </select>
          </div>
          <div id="creditos-estado-select" class="hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">Estado</label>
            <select id="creditos-estado" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="">Todos los estados</option>
              <option value="Solicitado">Solicitado</option>
              <option value="Aprobado">Aprobado</option>
              <option value="Activo">Activo</option>
              <option value="Pagado">Pagado</option>
              <option value="Rechazado">Rechazado</option>
              <option value="En Mora">En Mora</option>
            </select>
          </div>
          <div id="creditos-date-range" class="grid grid-cols-2 gap-3 hidden">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Desde</label>
              <input type="date" id="creditos-fecha-desde" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Hasta</label>
              <input type="date" id="creditos-fecha-hasta" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
          </div>
          <div id="creditos-socio-select" class="hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">Seleccionar Socio</label>
            <select id="creditos-socio" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="">Todos los socios</option>
            </select>
          </div>
          <div id="creditos-monto-range" class="grid grid-cols-2 gap-3 hidden">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Monto mínimo</label>
              <input type="number" id="creditos-monto-min" class="w-full border border-slate-300 rounded-lg px-3 py-2" step="0.01" min="0">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Monto máximo</label>
              <input type="number" id="creditos-monto-max" class="w-full border border-slate-300 rounded-lg px-3 py-2" step="0.01" min="0">
            </div>
          </div>
        </div>

        <!-- Filtros para Cobranzas -->
        <div id="cobranzas-filters" class="space-y-4 hidden">
          <div>
            <label for="cobranzas-filter-type" class="block text-sm font-medium text-slate-700 mb-2">Filtrar por</label>
            <select id="cobranzas-filter-type" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="todos">Todas las cobranzas</option>
              <option value="fecha">Por fecha de pago</option>
              <option value="socio">Por socio</option>
              <option value="credito">Por crédito</option>
              <option value="monto">Por rango de monto</option>
              <option value="metodo">Por método de pago</option>
            </select>
          </div>
          <div id="cobranzas-date-range" class="grid grid-cols-2 gap-3 hidden">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Desde</label>
              <input type="date" id="cobranzas-fecha-desde" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Hasta</label>
              <input type="date" id="cobranzas-fecha-hasta" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
          </div>
          <div id="cobranzas-socio-select" class="hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">Seleccionar Socio</label>
            <select id="cobranzas-socio" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="">Todos los socios</option>
            </select>
          </div>
          <div id="cobranzas-credito-select" class="hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">Seleccionar Crédito</label>
            <select id="cobranzas-credito" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="">Todos los créditos</option>
            </select>
          </div>
          <div id="cobranzas-metodo-select" class="hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">Método de Pago</label>
            <select id="cobranzas-metodo" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="">Todos los métodos</option>
              <option value="Efectivo">Efectivo</option>
              <option value="Transferencia Bancaria">Transferencia Bancaria</option>
              <option value="Depósito">Depósito</option>
            </select>
          </div>
          <div id="cobranzas-monto-range" class="grid grid-cols-2 gap-3 hidden">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Monto mínimo</label>
              <input type="number" id="cobranzas-monto-min" class="w-full border border-slate-300 rounded-lg px-3 py-2" step="0.01" min="0">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Monto máximo</label>
              <input type="number" id="cobranzas-monto-max" class="w-full border border-slate-300 rounded-lg px-3 py-2" step="0.01" min="0">
            </div>
          </div>
          <div id="cobranzas-fecha-range" class="grid grid-cols-2 gap-3 hidden">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Fecha inicio</label>
              <input type="date" id="cobranzas-fecha-inicio" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Fecha fin</label>
              <input type="date" id="cobranzas-fecha-fin" class="w-full border border-slate-300 rounded-lg px-3 py-2">
            </div>
          </div>
        </div>

        <!-- Botones de filtro -->
        <div class="flex flex-col sm:flex-row gap-3 pt-4 border-t">
          <button type="button" id="clear-cobranzas-filters" class="flex-1 px-4 py-2 text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors">
            Limpiar Filtros
          </button>
          <button type="button" id="apply-cobranzas-filters" class="flex-1 px-4 py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors">
            Aplicar Filtros
          </button>
        </div>
      </div>
    </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Monto máximo</label>
              <input type="number" id="cobranzas-monto-max" class="w-full border border-slate-300 rounded-lg px-3 py-2" step="0.01" min="0">
            </div>
          </div>
          <div id="cobranzas-metodo-select" class="hidden">
            <label class="block text-sm font-medium text-slate-700 mb-2">Método de Pago</label>
            <select id="cobranzas-metodo" class="w-full border border-slate-300 rounded-lg px-3 py-2">
              <option value="">Todos los métodos</option>
              <option value="Efectivo">Efectivo</option>
              <option value="Transferencia Bancaria">Transferencia Bancaria</option>
              <option value="Depósito">Depósito</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Configuración adicional -->
      <div class="space-y-4 pt-4 border-t">
        <h4 class="font-medium text-slate-700">Configuración adicional</h4>
        <div>
          <label for="report-title" class="block text-sm font-medium text-slate-700 mb-2">Título del reporte (opcional)</label>
          <input type="text" id="report-title" class="w-full border border-slate-300 rounded-lg px-3 py-2" placeholder="Ej: Reporte Mensual de Socios">
        </div>
        <div class="flex items-center">
          <input type="checkbox" id="include-summary" class="mr-2" checked>
          <label for="include-summary" class="text-sm text-slate-700">Incluir resumen estadístico</label>
        </div>
      </div>
    </div>

    <!-- Vista Previa -->
    <div class="space-y-4">
      <h3 class="text-lg font-semibold text-slate-700 border-b pb-2">Vista Previa</h3>
      <div id="report-preview" class="bg-slate-50 rounded-lg p-4 min-h-[400px] border-2 border-dashed border-slate-300">
        <div class="text-center text-slate-500 mt-16">
          <i class="fas fa-file-pdf text-4xl mb-4 opacity-50"></i>
          <p>Seleccione un tipo de reporte para ver la vista previa</p>
        </div>
      </div>
      
      <!-- Estadísticas rápidas -->
      <div id="quick-stats" class="grid grid-cols-2 gap-4 hidden">
        <div class="bg-blue-50 rounded-lg p-4 text-center">
          <div class="text-2xl font-bold text-blue-600" id="stat-count">0</div>
          <div class="text-sm text-blue-500" id="stat-label">Registros</div>
        </div>
        <div class="bg-green-50 rounded-lg p-4 text-center">
          <div class="text-2xl font-bold text-green-600" id="stat-total">$0</div>
          <div class="text-sm text-green-500">Total</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Estado de generación -->
  <div id="generation-status" class="mt-6 hidden">
    <div class="bg-blue-50 border-l-4 border-blue-400 p-4">
      <div class="flex items-center">
        <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"></div>
        <div>
          <p class="font-medium text-blue-800">Generando reporte...</p>
          <p class="text-sm text-blue-600">Por favor espere mientras se procesa la información.</p>
        </div>
      </div>
    </div>
  </div>
</div>
